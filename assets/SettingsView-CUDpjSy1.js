import{d as F,r as x,o as s,a as d,j as N,b as e,F as k,e as f,u as n,w as y,v as c,g as M,h as v,i as U,t as h}from"./index-Db7QiMap.js";import{u as H,_ as K}from"./useTracker-CrXAp1_J.js";const L={class:"space-y-6"},R={class:"rounded-lg border border-gray-200 bg-white shadow-theme-xs dark:border-gray-800 dark:bg-gray-900"},J={class:"p-6"},W={class:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},z={class:"flex items-center gap-3"},G={class:"font-medium text-black dark:text-white"},q=["onClick"],P={class:"flex flex-col gap-4 border-t border-gray-200 pt-6 dark:border-gray-800 sm:flex-row sm:items-end"},Q={class:"flex-1"},X=["disabled"],Y={class:"rounded-lg border border-gray-200 bg-white shadow-theme-xs dark:border-gray-800 dark:bg-gray-900"},Z={class:"p-6"},ee={class:"flex flex-wrap gap-2 mb-4"},te=["onClick"],re={class:"flex gap-2"},oe={class:"rounded-lg border border-gray-200 bg-white shadow-theme-xs dark:border-gray-800 dark:bg-gray-900"},ae={class:"p-6"},se={class:"flex flex-wrap gap-2 mb-4"},de=["onClick"],ne={class:"flex gap-2"},le={class:"rounded-lg border border-gray-200 bg-white shadow-theme-xs dark:border-gray-800 dark:bg-gray-900"},ie={class:"p-6"},be={class:"flex flex-wrap gap-2 mb-4"},ge=["onClick"],ue={class:"flex gap-2"},pe={class:"rounded-lg border border-gray-200 bg-white shadow-theme-xs dark:border-gray-800 dark:bg-gray-900"},xe={class:"p-6 flex flex-col gap-4 sm:flex-row"},ye={class:"relative"},ke=F({__name:"SettingsView",setup(ce){const{categories:$,addCategory:A,removeCategory:B,taskCategories:E,financeCategories:T,investCategories:D,addExtendedCategory:w,removeExtendedCategory:C}=H(),i=x(""),m=x("#3C50E0"),I=()=>{i.value&&(A(i.value,m.value),i.value="",m.value="#"+Math.floor(Math.random()*16777215).toString(16))},g=x(""),u=x(""),p=x(""),b=a=>{a==="task"&&g.value&&(w("task",g.value),g.value=""),a==="finance"&&u.value&&(w("finance",u.value),u.value=""),a==="invest"&&p.value&&(w("invest",p.value),p.value="")},j=()=>{const a={};for(let o=0;o<localStorage.length;o++){const l=localStorage.key(o);l&&(l.startsWith("tracker_")||l.startsWith("year_"))&&(a[l]=localStorage.getItem(l))}const t=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),r=document.createElement("a");r.href=URL.createObjectURL(t),r.download=`backup-${new Date().toISOString().split("T")[0]}.json`,r.click()},O=a=>{var o;const t=a.target;if(!((o=t.files)!=null&&o.length))return;const r=new FileReader;r.onload=l=>{var S;try{const _=JSON.parse((S=l.target)==null?void 0:S.result);Object.keys(_).forEach(V=>{localStorage.setItem(V,_[V])}),alert("Data restored successfully! reloading..."),window.location.reload()}catch{alert("Invalid backup file")}},r.readAsText(t.files[0])};return(a,t)=>(s(),d("div",L,[N(K,{title:"Settings"}),e("div",R,[t[14]||(t[14]=e("div",{class:"border-b border-gray-200 px-6 py-4 dark:border-gray-800"},[e("h3",{class:"font-bold text-black dark:text-white"},"Habit Categories"),e("p",{class:"text-sm text-gray-500"},"For the Hourly Grid Tracker.")],-1)),e("div",J,[e("div",W,[(s(!0),d(k,null,f(n($),r=>(s(),d("div",{key:r.id,class:"flex items-center justify-between rounded border border-gray-200 p-3 dark:border-gray-700"},[e("div",z,[e("span",{class:"h-6 w-6 rounded shadow-sm",style:U({backgroundColor:r.color})},null,4),e("span",G,h(r.label),1)]),e("button",{onClick:o=>n(B)(r.id),class:"text-gray-400 hover:text-red-500"},t[11]||(t[11]=[e("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2M10 11v6m4-6v6"})],-1)]),8,q)]))),128))]),e("div",P,[e("div",Q,[t[12]||(t[12]=e("label",{class:"mb-2 block text-sm font-medium text-black dark:text-white"},"New Habit Category",-1)),y(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>i.value=r),type:"text",placeholder:"e.g. Coding",class:"w-full rounded border border-gray-300 bg-transparent px-4 py-2 font-medium outline-none focus:border-brand-500 dark:border-gray-700 dark:bg-gray-800"},null,512),[[c,i.value]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"mb-2 block text-sm font-medium text-black dark:text-white"},"Color",-1)),y(e("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>m.value=r),type:"color",class:"h-[42px] w-[80px] cursor-pointer rounded border border-gray-300 bg-transparent p-1 dark:border-gray-700"},null,512),[[c,m.value]])]),e("button",{onClick:I,class:"rounded bg-brand-500 px-6 py-2.5 font-medium text-white hover:bg-brand-600 disabled:opacity-50",disabled:!i.value},"Add",8,X)])])]),e("div",Y,[t[15]||(t[15]=e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-800"},[e("h3",{class:"font-bold text-black dark:text-white"},"Task Categories"),e("p",{class:"text-sm text-gray-500"},"Options for Daily Tasks.")],-1)),e("div",Z,[e("div",ee,[(s(!0),d(k,null,f(n(E),r=>(s(),d("span",{key:r,class:"inline-flex items-center gap-2 rounded-full border border-gray-200 px-3 py-1 text-sm font-medium dark:border-gray-700"},[v(h(r)+" ",1),e("button",{onClick:o=>n(C)("task",r),class:"text-gray-400 hover:text-red-500"},"×",8,te)]))),128))]),e("div",re,[y(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>g.value=r),type:"text",placeholder:"Add Task Category",class:"flex-1 rounded border border-gray-300 bg-transparent px-4 py-2 text-sm outline-none focus:border-brand-500 dark:border-gray-700 dark:bg-gray-800",onKeyup:t[3]||(t[3]=M(r=>b("task"),["enter"]))},null,544),[[c,g.value]]),e("button",{onClick:t[4]||(t[4]=r=>b("task")),class:"rounded bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600"},"Add")])])]),e("div",oe,[t[16]||(t[16]=e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-800"},[e("h3",{class:"font-bold text-black dark:text-white"},"Finance Categories"),e("p",{class:"text-sm text-gray-500"},"Options for Daily Expenditures.")],-1)),e("div",ae,[e("div",se,[(s(!0),d(k,null,f(n(T),r=>(s(),d("span",{key:r,class:"inline-flex items-center gap-2 rounded-full border border-gray-200 px-3 py-1 text-sm font-medium dark:border-gray-700"},[v(h(r)+" ",1),e("button",{onClick:o=>n(C)("finance",r),class:"text-gray-400 hover:text-red-500"},"×",8,de)]))),128))]),e("div",ne,[y(e("input",{"onUpdate:modelValue":t[5]||(t[5]=r=>u.value=r),type:"text",placeholder:"Add Finance Category",class:"flex-1 rounded border border-gray-300 bg-transparent px-4 py-2 text-sm outline-none focus:border-brand-500 dark:border-gray-700 dark:bg-gray-800",onKeyup:t[6]||(t[6]=M(r=>b("finance"),["enter"]))},null,544),[[c,u.value]]),e("button",{onClick:t[7]||(t[7]=r=>b("finance")),class:"rounded bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600"},"Add")])])]),e("div",le,[t[17]||(t[17]=e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-800"},[e("h3",{class:"font-bold text-black dark:text-white"},"Investment Categories"),e("p",{class:"text-sm text-gray-500"},"Options for Investments.")],-1)),e("div",ie,[e("div",be,[(s(!0),d(k,null,f(n(D),r=>(s(),d("span",{key:r,class:"inline-flex items-center gap-2 rounded-full border border-gray-200 px-3 py-1 text-sm font-medium dark:border-gray-700"},[v(h(r)+" ",1),e("button",{onClick:o=>n(C)("invest",r),class:"text-gray-400 hover:text-red-500"},"×",8,ge)]))),128))]),e("div",ue,[y(e("input",{"onUpdate:modelValue":t[8]||(t[8]=r=>p.value=r),type:"text",placeholder:"Add Investment Category",class:"flex-1 rounded border border-gray-300 bg-transparent px-4 py-2 text-sm outline-none focus:border-brand-500 dark:border-gray-700 dark:bg-gray-800",onKeyup:t[9]||(t[9]=M(r=>b("invest"),["enter"]))},null,544),[[c,p.value]]),e("button",{onClick:t[10]||(t[10]=r=>b("invest")),class:"rounded bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600"},"Add")])])]),e("div",pe,[t[20]||(t[20]=e("div",{class:"flex items-center justify-between border-b border-gray-200 px-6 py-4 dark:border-gray-800"},[e("div",null,[e("h3",{class:"font-bold text-black dark:text-white"},"Data Management"),e("p",{class:"text-sm text-gray-500"},"Backup your data or restore from a file. Essential for updates.")])],-1)),e("div",xe,[e("button",{onClick:j,class:"flex items-center gap-2 rounded bg-brand-500 px-6 py-2.5 font-medium text-white hover:bg-brand-600"},t[18]||(t[18]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"})],-1),v(" Export Backup ")])),e("div",ye,[e("input",{type:"file",onChange:O,accept:".json",class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"},null,32),t[19]||(t[19]=e("button",{class:"flex items-center gap-2 rounded border border-gray-300 px-6 py-2.5 font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-800"},[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M17 8l-5-5-5 5M12 3v12"})]),v(" Import Backup ")],-1))])])])]))}});export{ke as default};
