import{d as J,o as j,a as F,j as v,p as h,h as y,n as S,k as W,c as Z,b as u,t as N,r as l,m as i}from"./index-Db7QiMap.js";const z={class:"flex flex-wrap items-center gap-2"},R=J({__name:"TrackerNavigation",setup(c){return(d,o)=>{const n=W("router-link");return j(),F("div",z,[v(n,{to:"/",class:S(["rounded-md border px-4 py-2 text-sm font-medium transition-colors",d.$route.path==="/"?"bg-brand-500 text-white border-brand-500":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-boxdark dark:text-gray-300 dark:hover:bg-gray-800"])},{default:h(()=>o[0]||(o[0]=[y(" Dashboard ")])),_:1},8,["class"]),v(n,{to:"/yearly-overview",class:S(["rounded-md border px-4 py-2 text-sm font-medium transition-colors",d.$route.path==="/yearly-overview"?"bg-brand-500 text-white border-brand-500":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-boxdark dark:text-gray-300 dark:hover:bg-gray-800"])},{default:h(()=>o[1]||(o[1]=[y(" Year in Color ")])),_:1},8,["class"]),v(n,{to:"/major-things",class:S(["rounded-md border px-4 py-2 text-sm font-medium transition-colors",d.$route.path==="/major-things"?"bg-brand-500 text-white border-brand-500":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-boxdark dark:text-gray-300 dark:hover:bg-gray-800"])},{default:h(()=>o[2]||(o[2]=[y(" Major Things ")])),_:1},8,["class"]),v(n,{to:"/financial",class:S(["rounded-md border px-4 py-2 text-sm font-medium transition-colors",d.$route.path==="/financial"?"bg-brand-500 text-white border-brand-500":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-boxdark dark:text-gray-300 dark:hover:bg-gray-800"])},{default:h(()=>o[3]||(o[3]=[y(" Financials ")])),_:1},8,["class"]),v(n,{to:"/settings",class:S(["rounded-md border px-4 py-2 text-sm font-medium transition-colors",d.$route.path==="/settings"?"bg-brand-500 text-white border-brand-500":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-boxdark dark:text-gray-300 dark:hover:bg-gray-800"])},{default:h(()=>o[4]||(o[4]=[y(" Settings ")])),_:1},8,["class"])])}}}),U={class:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},q={class:"text-title-md2 font-bold text-black dark:text-white"},Q={class:"flex flex-col gap-3 sm:flex-row sm:items-center"},X={class:"flex items-center gap-2"},K={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},le=J({__name:"TrackerHeader",props:{title:{}},setup(c){const d=Z(()=>new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}));return(o,n)=>(j(),F("div",U,[u("h2",q,N(o.title),1),u("div",Q,[v(R),u("div",X,[u("span",K,N(d.value),1),n[0]||(n[0]=u("button",{class:"flex items-center gap-2 rounded bg-white px-3 py-1.5 text-sm font-medium shadow-card hover:bg-gray-50 dark:bg-boxdark dark:hover:bg-meta-4"},[u("svg",{class:"fill-current",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u("path",{d:"M14.6667 2.66666H12.6667V1.33333C12.6667 0.966663 12.3667 0.666663 12 0.666663C11.6333 0.666663 11.3333 0.966663 11.3333 1.33333V2.66666H4.66667V1.33333C4.66667 0.966663 4.36667 0.666663 4 0.666663C3.63333 0.666663 3.33333 0.966663 3.33333 1.33333V2.66666H1.33333C0.599999 2.66666 0 3.26666 0 4V14.6667C0 15.4 0.599999 16 1.33333 16H14.6667C15.4 16 16 15.4 16 14.6667V4C16 3.26666 15.4 2.66666 14.6667 2.66666ZM14.6667 14.6667H1.33333V5.33333H14.6667V14.6667Z",fill:""})]),u("span",null,"Select Date")],-1))])])]))}}),O=localStorage.getItem("tracker_entries"),E=localStorage.getItem("tracker_grid"),b=l(O?JSON.parse(O):[]),f=l(E?JSON.parse(E):{}),m=l(localStorage.getItem("tracker_major_things")?JSON.parse(localStorage.getItem("tracker_major_things")):{events:[],food:[],movies:[],games:[],purchases:[]});i(b,c=>{localStorage.setItem("tracker_entries",JSON.stringify(c))},{deep:!0});i(f,c=>{localStorage.setItem("tracker_grid",JSON.stringify(c))},{deep:!0});i(m,c=>{localStorage.setItem("tracker_major_things",JSON.stringify(c))},{deep:!0});function ie(){const c=e=>{const t=new Date().toISOString().split("T")[0];if(e.date>t){alert("Cannot add entries for future dates!");return}b.value.unshift({id:Date.now(),...e})},d=e=>{b.value=b.value.filter(t=>t.id!==e)},o=(e,t,r)=>{const a=new Date().toISOString().split("T")[0];if(e>a){alert("Cannot edit future dates!");return}f.value[e]||(f.value[e]={}),f.value[e][t]=r},n=(e,t,r)=>{m.value[e]||(m.value[e]=[]),m.value[e].push({id:Date.now(),text:t,meta:r})},B=(e,t)=>{m.value[e]&&(m.value[e]=m.value[e].filter(r=>r.id!==t))},s=l(localStorage.getItem("tracker_collections")?JSON.parse(localStorage.getItem("tracker_collections")):{pokemon:[],weiss:[],others:[]});i(s,e=>{localStorage.setItem("tracker_collections",JSON.stringify(e))},{deep:!0});const M=(e,t)=>{s.value[e]||(s.value[e]=[]),s.value[e].unshift({id:Date.now(),...t})},T=(e,t)=>{s.value[e]&&(s.value[e]=s.value[e].filter(r=>r.id!==t))},V=(e,t,r)=>{if(s.value[e]){const a=s.value[e].findIndex(g=>g.id===t);a!==-1&&(s.value[e][a]={...s.value[e][a],...r})}},$=[{id:"sleep",label:"Sleep",color:"#374151"},{id:"work",label:"Work",color:"#2563EB"},{id:"hobbies",label:"Hobbies",color:"#F97316"},{id:"phd",label:"PhD",color:"#4F46E5"},{id:"exercise",label:"Exercise",color:"#22C55E"},{id:"friends",label:"Friends",color:"#EC4899"},{id:"relax",label:"Relaxation",color:"#2DD4BF"},{id:"dating",label:"Dating",color:"#F43F5E"},{id:"family",label:"Family",color:"#A855F7"},{id:"chores",label:"Chores",color:"#CA8A04"},{id:"travel",label:"Travel",color:"#06B6D4"},{id:"misc",label:"Misc",color:"#9CA3AF"}],p=l(localStorage.getItem("tracker_categories")?JSON.parse(localStorage.getItem("tracker_categories")):$);i(p,e=>{localStorage.setItem("tracker_categories",JSON.stringify(e))},{deep:!0});const H=(e,t)=>{const r=e.toLowerCase().replace(/\s+/g,"-");p.value.find(a=>a.id===r)||p.value.push({id:r,label:e,color:t})},L=e=>{p.value=p.value.filter(t=>t.id!==e)},x=l(localStorage.getItem("tracker_cat_task")?JSON.parse(localStorage.getItem("tracker_cat_task")):["Work","Personal","Project"]),_=l(localStorage.getItem("tracker_cat_finance")?JSON.parse(localStorage.getItem("tracker_cat_finance")):["Food","Transport","Bills","Shopping"]),w=l(localStorage.getItem("tracker_cat_invest")?JSON.parse(localStorage.getItem("tracker_cat_invest")):["Stocks","MF","Gold","Crypto"]);i(x,e=>{localStorage.setItem("tracker_cat_task",JSON.stringify(e))},{deep:!0}),i(_,e=>{localStorage.setItem("tracker_cat_finance",JSON.stringify(e))},{deep:!0}),i(w,e=>{localStorage.setItem("tracker_cat_invest",JSON.stringify(e))},{deep:!0});const A=(e,t)=>{const r=e==="task"?x:e==="finance"?_:w;r.value.includes(t)||r.value.push(t)},Y=(e,t)=>{const r=e==="task"?x:e==="finance"?_:w;r.value=r.value.filter(a=>a!==t)},C=l(localStorage.getItem("tracker_theme")!=="light");i(C,e=>{localStorage.setItem("tracker_theme",e?"dark":"light"),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},{immediate:!0});const G=()=>{C.value=!C.value},k=l(localStorage.getItem("tracker_balances")?JSON.parse(localStorage.getItem("tracker_balances")):{});return i(k,e=>{localStorage.setItem("tracker_balances",JSON.stringify(e))},{deep:!0}),{categories:p,addCategory:H,removeCategory:L,taskCategories:x,financeCategories:_,investCategories:w,addExtendedCategory:A,removeExtendedCategory:Y,isDarkMode:C,toggleTheme:G,dailyEntries:b,gridData:f,majorThingsData:m,collectionItems:s,balanceLogs:k,addDailyEntry:c,deleteDailyEntry:d,updateGridCell:o,addMajorThing:n,removeMajorThing:B,addCollectionItem:M,removeCollectionItem:T,updateCollectionItem:V,updateBalanceLog:(e,t,r)=>{const a=new Date().toISOString().split("T")[0];if(e>a){alert("Cannot update balance for future dates!");return}k.value[e]||(k.value[e]={}),k.value[e][t]=r},getNetBalance:e=>{const t=k.value[e];if(!t)return 0;const r=(t.sbi2040||0)+(t.sbi2049||0)+(t.hdfc||0),a=t.cc||0;return r-a},getEntriesByDate:e=>b.value.filter(t=>t.date===e),getMonthlyFinance:(e,t)=>b.value.filter(r=>{const a=new Date(r.date);return a.getMonth()===e&&a.getFullYear()===t&&r.category==="finance"}).reduce((r,a)=>r+(a.amount||0),0),getMonthlyCategoryDistribution:(e,t)=>{const r={},a=new Date(t,e+1,0).getDate();for(let g=1;g<=a;g++){const P=`${t}-${String(e+1).padStart(2,"0")}-${String(g).padStart(2,"0")}`,I=f.value[P];I&&Object.values(I).forEach(D=>{r[D]=(r[D]||0)+1})}return r},getYearlyCategoryDistribution:e=>{const t={};return Object.entries(f.value).forEach(([r,a])=>{r.startsWith(String(e))&&Object.values(a).forEach(g=>{t[g]=(t[g]||0)+1})}),t}}}export{le as _,ie as u};
